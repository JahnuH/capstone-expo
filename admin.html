<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:'Poppins',sans-serif; background: radial-gradient(circle at 20% 20%, #0b182d, #081221 60%, #0e1d35); background-size: 200% 200%; animation: bgShift 28s ease-in-out infinite; color: #E4EAF5; overflow-x:hidden; }
        @keyframes bgShift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        nav { background: rgba(8, 16, 30, 0.85); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(0, 198, 255, 0.15); box-shadow: 0 2px 16px rgba(0, 0, 0, 0.45); position:fixed; width:100%; top:0; z-index:50; }
        .glass-strong { background: rgba(15, 25, 45, 0.45); backdrop-filter: blur(18px); border: 1px solid rgba(0, 198, 255, 0.12); border-radius: 1rem; box-shadow: 0 10px 40px rgba(0, 198, 255, 0.07); transition: all 0.35s ease; }
        .glass-strong:hover { box-shadow: 0 16px 50px rgba(0, 198, 255, 0.18); transform: translateY(-4px); }
        .stat-card { background: rgba(20, 35, 60, 0.55); border: 1px solid rgba(0, 198, 255, 0.25); border-radius: 1.2rem; box-shadow: 0 0 25px rgba(0, 198, 255, 0.08); transition: all 0.4s ease; }
        .stat-card:hover { transform: translateY(-6px); box-shadow: 0 0 40px rgba(0, 198, 255, 0.35); }
        .tab-button { background: rgba(12, 25, 45, 0.55); color: #A0AEC0; border: 1px solid rgba(0, 198, 255, 0.1); border-radius: 0.9rem; transition: all 0.4s ease; }
        .tab-button.active { color: #E6F8FF; background: linear-gradient(135deg, rgba(0, 198, 255, 0.3), rgba(74, 222, 128, 0.3)); border-color: rgba(0, 198, 255, 0.35); box-shadow: 0 0 25px rgba(0, 198, 255, 0.45); }
        .btn-gradient { background: linear-gradient(90deg, #00C6FF, #4ADE80); box-shadow: 0 0 18px rgba(0, 198, 255, 0.3); color: white; border-radius: 0.8rem; transition: all 0.3s ease; font-weight: 600; }
        .btn-gradient:hover { transform: scale(1.04); box-shadow: 0 0 38px rgba(0, 198, 255, 0.55); }
        .suggestion-card { background: rgba(0, 198, 255, 0.07); border-left: 4px solid #00C6FF; border-radius: 1rem; transition: all 0.35s ease; padding: 1rem; margin-bottom: 0.75rem; }
        .suggestion-card:hover { background: rgba(0, 198, 255, 0.12); transform: translateX(6px); box-shadow: 0 0 25px rgba(0, 198, 255, 0.25); }
        .train-card { background: rgba(20, 35, 60, 0.55); border: 1px solid rgba(0, 198, 255, 0.2); border-radius: 1rem; padding: 1rem; margin-bottom: 0.75rem; transition: all 0.3s ease; }
        .train-card:hover { background: rgba(20, 35, 60, 0.75); transform: translateY(-2px); box-shadow: 0 0 20px rgba(0, 198, 255, 0.2); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: none; align-items: center; justify-content: center; padding: 1rem; z-index: 9999; background: rgba(0, 0, 0, 0.75); backdrop-filter: blur(10px); }
        .modal.active { display: flex; }
        .modal-content { background: rgba(15, 25, 45, 0.9); backdrop-filter: blur(16px); border: 1px solid rgba(0, 198, 255, 0.25); border-radius: 1.5rem; box-shadow: 0 0 50px rgba(0, 198, 255, 0.45); padding: 2rem; max-width: 600px; width: 100%; }
        @media (max-width: 768px) {
            nav .container { padding: 0.75rem !important; }
            nav .text-2xl { font-size: 1.25rem !important; }
            .text-4xl { font-size: 1.5rem !important; }
            .modal-content { padding: 1rem; max-width: 95%; }
            .grid { gap: 0.75rem; }
            .glass-strong { padding: 1rem !important; }
            .tab-button { padding: 0.75rem 1rem !important; font-size: 0.875rem; }
        }
    </style>
</head>
<body>
    <nav class="fixed w-full top-0 z-50">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <a href="index.html" class="flex items-center space-x-3">
                    <div class="text-4xl font-bold">RTE</div>
                    <div>
                        <span class="text-2xl font-bold text-white">Smart Admin</span>
                        <p class="text-xs text-gray-400">Automated Control Panel</p>
                    </div>
                </a>
                <div class="flex items-center space-x-4">
                    <select id="adminLangSelect" onchange="changeAdminLanguage()" class="glass-strong px-3 py-2 rounded-full text-white text-sm">
                        <option value="en">EN</option>
                        <option value="hi">हिं</option>
                        <option value="kn">ಕನ್</option>
                        <option value="te">తె</option>
                        <option value="ta">த</option>
                        <option value="fr">FR</option>
                    </select>
                    <a href="index.html" class="glass-strong px-4 py-2 rounded-full text-white font-semibold hover:bg-red-500 hover:bg-opacity-20 flex items-center space-x-2">
                        <i data-lucide="log-out" class="w-4 h-4"></i><span>Logout</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="relative z-10 pt-24 pb-12">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8">
                <div class="stat-card glass-strong rounded-2xl p-6 text-center">
                    <i data-lucide="train" class="w-8 h-8 mx-auto mb-2 text-blue-400"></i>
                    <div class="text-3xl font-bold text-blue-400">24</div>
                    <div class="text-sm text-gray-400">Total Trains</div>
                </div>
                <div class="stat-card glass-strong rounded-2xl p-6 text-center">
                    <i data-lucide="alert-triangle" class="w-8 h-8 mx-auto mb-2 text-red-400"></i>
                    <div class="text-3xl font-bold text-red-400">3</div>
                    <div class="text-sm text-gray-400">Delayed</div>
                </div>
                <div class="stat-card glass-strong rounded-2xl p-6 text-center">
                    <i data-lucide="megaphone" class="w-8 h-8 mx-auto mb-2 text-green-400"></i>
                    <div class="text-3xl font-bold text-green-400">47</div>
                    <div class="text-sm text-gray-400">Announcements</div>
                </div>
                <div class="stat-card glass-strong rounded-2xl p-6 text-center">
                    <i data-lucide="activity" class="w-8 h-8 mx-auto mb-2 text-green-400"></i>
                    <div class="text-xl font-bold text-green-400">ACTIVE</div>
                    <div class="text-sm text-gray-400">System Status</div>
                </div>
            </div>

            <div class="glass-strong rounded-2xl p-2 mb-8 overflow-x-auto">
                <div class="flex space-x-2">
                    <button class="tab-button active px-6 py-4 rounded-xl font-semibold transition flex items-center space-x-2" onclick="switchTab('smart')">
                        <i data-lucide="cpu" class="w-4 h-4"></i><span>Smart Actions</span>
                    </button>
                    <button class="tab-button px-6 py-4 rounded-xl font-semibold transition flex items-center space-x-2" onclick="switchTab('trains')">
                        <i data-lucide="train" class="w-4 h-4"></i><span>Live Trains</span>
                    </button>
                    <button class="tab-button px-6 py-4 rounded-xl font-semibold transition flex items-center space-x-2" onclick="switchTab('announce')">
                        <i data-lucide="volume-2" class="w-4 h-4"></i><span>Quick Announce</span>
                    </button>
                </div>
            </div>

            <div id="smartTab" class="tab-content active">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="glass-strong rounded-3xl p-8">
                        <h2 class="text-2xl font-bold mb-6 flex items-center space-x-2">
                            <i data-lucide="lightbulb" class="w-5 h-5 text-yellow-400"></i>
                            <span>Smart Suggestions</span>
                        </h2>
                        <div class="space-y-3">
                            <div class="suggestion-card">
                                <div class="flex items-start justify-between">
                                    <div class="flex-1">
                                        <div class="font-bold text-white mb-1">Train 12430 Delayed</div>
                                        <div class="text-sm text-gray-300">Announce delay for Rajdhani Express (15 min late)</div>
                                    </div>
                                    <button onclick="showAnnounceModal('Train 12430 Rajdhani Express is delayed by 15 minutes')" class="btn-gradient px-4 py-2 rounded-lg text-sm">Announce</button>
                                </div>
                            </div>
                            <div class="suggestion-card">
                                <div class="flex items-start justify-between">
                                    <div class="flex-1">
                                        <div class="font-bold text-white mb-1">Platform Change</div>
                                        <div class="text-sm text-gray-300">Train 12301 moved to Platform 5</div>
                                    </div>
                                    <button onclick="showAnnounceModal('Train 12301 Howrah Rajdhani now departing from Platform 5')" class="btn-gradient px-4 py-2 rounded-lg text-sm">Announce</button>
                                </div>
                            </div>
                            <div class="suggestion-card">
                                <div class="flex items-start justify-between">
                                    <div class="flex-1">
                                        <div class="font-bold text-white mb-1">Arrival Alert</div>
                                        <div class="text-sm text-gray-300">Karnataka Express arriving in 5 minutes</div>
                                    </div>
                                    <button onclick="showAnnounceModal('Train 12628 Karnataka Express arriving at Platform 3 in 5 minutes')" class="btn-gradient px-4 py-2 rounded-lg text-sm">Announce</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="glass-strong rounded-3xl p-8">
                        <h2 class="text-2xl font-bold mb-6 flex items-center space-x-2">
                            <i data-lucide="shield-alert" class="w-5 h-5 text-red-400"></i>
                            <span>Quick Safety Alerts</span>
                        </h2>
                        <div class="space-y-3">
                            <button onclick="showAnnounceModal('Please maintain social distancing and wear masks at all times')" class="w-full glass-strong hover:bg-blue-500 hover:bg-opacity-20 px-4 py-3 rounded-xl text-left transition">
                                <div class="font-semibold text-white">COVID-19 Safety</div>
                                <div class="text-sm text-gray-400">Social distancing reminder</div>
                            </button>
                            <button onclick="showAnnounceModal('Mind the gap between train and platform')" class="w-full glass-strong hover:bg-blue-500 hover:bg-opacity-20 px-4 py-3 rounded-xl text-left transition">
                                <div class="font-semibold text-white">Platform Safety</div>
                                <div class="text-sm text-gray-400">Mind the gap warning</div>
                            </button>
                            <button onclick="showAnnounceModal('Emergency helpline 139 available 24x7')" class="w-full glass-strong hover:bg-blue-500 hover:bg-opacity-20 px-4 py-3 rounded-xl text-left transition">
                                <div class="font-semibold text-white">Emergency Contact</div>
                                <div class="text-sm text-gray-400">Helpline information</div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="trainsTab" class="tab-content">
                <div class="glass-strong rounded-3xl p-8">
                    <h2 class="text-2xl font-bold mb-6 flex items-center space-x-2">
                        <i data-lucide="train-front" class="w-5 h-5 text-blue-400"></i>
                        <span>Live Train Status</span>
                    </h2>
                    <div class="space-y-3">
                        <div class="train-card">
                            <div class="flex items-center justify-between">
                                <div class="flex-1">
                                    <div class="font-bold text-white text-lg">12628 - Karnataka Express</div>
                                    <div class="text-sm text-gray-300 mt-1">New Delhi → Bangalore | Platform 3 | 14:30</div>
                                    <span class="inline-block mt-2 px-3 py-1 rounded-full text-xs font-semibold" style="background: rgba(16, 185, 129, 0.2); color: #6ee7b7;">On Time</span>
                                </div>
                                <button onclick="showAnnounceModal('Train 12628 Karnataka Express arriving at Platform 3')" class="btn-gradient px-4 py-2 rounded-lg text-sm">Announce</button>
                            </div>
                        </div>
                        <div class="train-card">
                            <div class="flex items-center justify-between">
                                <div class="flex-1">
                                    <div class="font-bold text-white text-lg">12430 - Rajdhani Express</div>
                                    <div class="text-sm text-gray-300 mt-1">Mumbai → Delhi | Platform 1 | 16:45</div>
                                    <span class="inline-block mt-2 px-3 py-1 rounded-full text-xs font-semibold" style="background: rgba(239, 68, 68, 0.2); color: #fb7185;">Delayed 15 min</span>
                                </div>
                                <button onclick="showAnnounceModal('Train 12430 Rajdhani Express delayed by 15 minutes')" class="btn-gradient px-4 py-2 rounded-lg text-sm">Announce</button>
                            </div>
                        </div>
                        <div class="train-card">
                            <div class="flex items-center justify-between">
                                <div class="flex-1">
                                    <div class="font-bold text-white text-lg">12301 - Howrah Rajdhani</div>
                                    <div class="text-sm text-gray-300 mt-1">Kolkata → Delhi | Platform 5 | 18:20</div>
                                    <span class="inline-block mt-2 px-3 py-1 rounded-full text-xs font-semibold" style="background: rgba(16, 185, 129, 0.2); color: #6ee7b7;">On Time</span>
                                </div>
                                <button onclick="showAnnounceModal('Train 12301 Howrah Rajdhani departing from Platform 5')" class="btn-gradient px-4 py-2 rounded-lg text-sm">Announce</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="announceTab" class="tab-content">
                <div class="glass-strong rounded-3xl p-8">
                    <h2 class="text-2xl font-bold mb-6 flex items-center space-x-2">
                        <i data-lucide="mic" class="w-5 h-5 text-orange-400"></i>
                        <span>Create Custom Announcement</span>
                    </h2>
                    <div class="mb-6">
                        <label class="block text-sm font-semibold text-gray-300 mb-3">Announcement Text</label>
                        <textarea id="customText" rows="4" class="w-full px-4 py-3 bg-transparent border-2 border-gray-600 rounded-xl text-white placeholder-gray-500" placeholder="Enter announcement text..."></textarea>
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-semibold text-gray-300 mb-3">Target Languages</label>
                        <div class="flex flex-wrap gap-3">
                            <button class="lang-btn active px-4 py-2 rounded-full text-sm font-semibold" data-lang="en">English</button>
                            <button class="lang-btn active px-4 py-2 rounded-full text-sm font-semibold" data-lang="hi">Hindi</button>
                            <button class="lang-btn active px-4 py-2 rounded-full text-sm font-semibold" data-lang="kn">Kannada</button>
                            <button class="lang-btn active px-4 py-2 rounded-full text-sm font-semibold" data-lang="te">Telugu</button>
                            <button class="lang-btn active px-4 py-2 rounded-full text-sm font-semibold" data-lang="ta">Tamil</button>
                            <button class="lang-btn active px-4 py-2 rounded-full text-sm font-semibold" data-lang="fr">French</button>
                        </div>
                    </div>
                    <button onclick="announceCustom()" class="btn-gradient w-full px-6 py-4 text-white font-semibold rounded-xl flex items-center justify-center space-x-2">
                        <i data-lucide="send" class="w-5 h-5"></i><span>Announce Now</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="announceModal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-white">Confirm Announcement</h2>
                <button onclick="closeAnnounceModal()" class="text-3xl text-gray-400 hover:text-white">&times;</button>
            </div>
            <div class="mb-6">
                <label class="block text-sm font-semibold text-gray-300 mb-3">Announcement Text</label>
                <div id="announceText" class="px-4 py-3 bg-gray-800 rounded-xl text-white"></div>
            </div>
            <div class="mb-6">
                <label class="block text-sm font-semibold text-gray-300 mb-3">Languages</label>
                <div class="flex flex-wrap gap-2">
                    <span class="px-3 py-1 rounded-full text-xs font-semibold" style="background: rgba(59, 130, 246, 0.2); color: #93c5fd;">English</span>
                    <span class="px-3 py-1 rounded-full text-xs font-semibold" style="background: rgba(59, 130, 246, 0.2); color: #93c5fd;">Hindi</span>
                    <span class="px-3 py-1 rounded-full text-xs font-semibold" style="background: rgba(59, 130, 246, 0.2); color: #93c5fd;">Kannada</span>
                    <span class="px-3 py-1 rounded-full text-xs font-semibold" style="background: rgba(59, 130, 246, 0.2); color: #93c5fd;">Telugu</span>
                    <span class="px-3 py-1 rounded-full text-xs font-semibold" style="background: rgba(59, 130, 246, 0.2); color: #93c5fd;">Tamil</span>
                    <span class="px-3 py-1 rounded-full text-xs font-semibold" style="background: rgba(59, 130, 246, 0.2); color: #93c5fd;">French</span>
                </div>
            </div>
            <div class="flex space-x-3">
                <button onclick="confirmAnnounce()" class="btn-gradient flex-1 px-6 py-3 text-white font-semibold rounded-xl">Broadcast</button>
                <button onclick="closeAnnounceModal()" class="glass-strong flex-1 px-6 py-3 font-semibold rounded-xl text-white">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        async function getSmartSuggestion(context) {
            const API_KEY = 'AIzaSyDTq5NgWdbvI3znraPrASnogjGGD-uI3_E';
            const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${API_KEY}`;
            
            const prompt = `Generate a railway station announcement for: ${context}. Keep it professional and concise.`;
            
            try {
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: prompt
                            }]
                        }]
                    })
                });
                
                const data = await response.json();
                return data.candidates[0].content.parts[0].text;
            } catch (error) {
                return context;
            }
        }
        
        lucide.createIcons();
        
        function switchTab(tab) {
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.closest('.tab-button').classList.add('active');
            document.getElementById(tab + 'Tab').classList.add('active');
            
            lucide.createIcons();
        }
        
        function showAnnounceModal(text) {
            document.getElementById('announceText').textContent = text;
            document.getElementById('announceModal').classList.add('active');
        }
        
        function closeAnnounceModal() {
            document.getElementById('announceModal').classList.remove('active');
        }
        
        function confirmAnnounce() {
            const text = document.getElementById('announceText').textContent;
            const languages = {'en':'en-US','hi':'hi-IN','kn':'kn-IN','te':'te-IN','ta':'ta-IN','fr':'fr-FR'};
            
            Object.values(languages).forEach((lang, i) => {
                setTimeout(() => {
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.lang = lang;
                    utterance.rate = 0.9;
                    speechSynthesis.speak(utterance);
                }, i * 3000);
            });
            
            alert('Announcement broadcasted successfully in all selected languages!');
            closeAnnounceModal();
        }
        
        function announceCustom() {
            const text = document.getElementById('customText').value.trim();
            if (!text) {
                alert('Please enter announcement text');
                return;
            }
            showAnnounceModal(text);
        }
        
        function speakText(text, lang = 'en-US') {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = lang;
            utterance.rate = 0.9;
            speechSynthesis.speak(utterance);
        }
        
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                this.classList.toggle('active');
                if (this.classList.contains('active')) {
                    this.style.background = 'linear-gradient(135deg, #2563eb, #3b82f6)';
                    this.style.color = '#ffffff';
                } else {
                    this.style.background = 'rgba(255, 255, 255, 0.06)';
                    this.style.color = '#ffffff';
                }
            });
        });
        
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.style.background = 'linear-gradient(135deg, #2563eb, #3b82f6)';
            btn.style.color = '#ffffff';
            btn.style.border = '1px solid rgba(255, 255, 255, 0.2)';
            btn.style.transition = 'all 0.3s ease';
        });
        
        async function translateText(text, targetLang) {
            if (targetLang === 'en') return text;
            
            const API_KEY = 'AIzaSyDTq5NgWdbvI3znraPrASnogjGGD-uI3_E';
            const langNames = {'hi':'Hindi','kn':'Kannada','te':'Telugu','ta':'Tamil','fr':'French'};
            const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${API_KEY}`;
            
            try {
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        contents: [{parts: [{text: `Translate this to ${langNames[targetLang]}: "${text}". Return only the translation, no explanations.`}]}]
                    })
                });
                const data = await response.json();
                return data.candidates[0].content.parts[0].text.replace(/["]/g, '');
            } catch (error) {
                return text;
            }
        }
        
        async function changeAdminLanguage() {
            const targetLang = document.getElementById('adminLangSelect').value;
            if (targetLang === 'en') {
                location.reload();
                return;
            }
            
            const elements = document.querySelectorAll('h1, h2, h3, p, span, button, div, label');
            for (let el of elements) {
                if (el.textContent.trim() && !el.querySelector('i') && el.textContent.length < 100 && !el.classList.contains('text-3xl')) {
                    const text = el.textContent.trim();
                    if (text && !text.match(/^[0-9:]+$/)) {
                        try {
                            const translated = await translateText(text, targetLang);
                            el.textContent = translated;
                        } catch (e) {}
                    }
                }
            }
            lucide.createIcons();
        }
    </script>
</body>
</html>
